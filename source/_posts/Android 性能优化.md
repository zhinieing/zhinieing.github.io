---
title: Android 性能优化
date: 2017-11-15 13:12:21
categories:
- 性能优化
tags:
- Android
- optimization
---
> 本文主要介绍了一些 Android 的性能优化方法和程序设计的思想，在日常开发中经常使用，将有助于提高 Android 程序的性能，提升用户体验。

<!--more-->

## 布局优化

使用`<include>、<merge>、<ViewStub>`标签

## 绘制优化

不要在 onDraw 方法中创建新的对象和做耗时的任务


## 内存泄露优化

1. 静态变量导致的内存泄露
2. 单例模式导致的内存泄露
3. 属性动画及各种连接没有关闭导致的内存泄露
4. 非静态内部类导致的内存泄露


## 响应速度优化

ANR 日志分析

## 线程优化

采用线程池



## 性能优化建议

* 避免创建过多的对象
* 常量使用`static final`修饰
* 使用 Android 特有的数据结构，比如`SparseArray、Pair`
* 适当使用软引用和弱引用
* 采用内存缓存和磁盘缓存
* 尽量采用静态内部类